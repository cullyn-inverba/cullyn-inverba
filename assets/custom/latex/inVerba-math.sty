% ███╗   ███╗ █████╗ ████████╗██╗  ██╗
% ████╗ ████║██╔══██╗╚══██╔══╝██║  ██║
% ██╔████╔██║███████║   ██║   ███████║
% ██║╚██╔╝██║██╔══██║   ██║   ██╔══██║
% ██║ ╚═╝ ██║██║  ██║   ██║   ██║  ██║
% ╚═╝     ╚═╝╚═╝  ╚═╝   ╚═╝   ╚═╝  ╚═╝

\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{inVerba-math}[My collection of math packages and commands]

\RequirePackage{mathtools, amssymb, bm, relsize, esvect,tikz, pifont,tikz-cd}
    \numberwithin{equation}{chapter}

    \DeclareMathSizes{12}{14}{10}{8}

    \makeatletter
        \renewcommand\tagform@[1]{
            \maketag@@@{\ignorespaces#1\unskip\@@italiccorr}
        }
    \makeatother

    \makeatletter
        \renewcommand*\env@matrix[1][*\c@MaxMatrixCols c]{%
        \hskip -\arraycolsep
        \let\@ifnextchar\new@ifnextchar
        \array{#1}}
    \makeatother

    \let\origEpsilon\epsilon
    \let\origVarEpsilon\varepsilon

    \renewcommand*\varepsilon{\mathlarger{\mathlarger{\mathlarger\origEpsilon}}}
    \renewcommand*\epsilon{\mathlarger{\mathlarger{\mathlarger\origVarEpsilon}}}


    
% ╔═╗┌─┐┌┬┐┌┬┐┌─┐┌┐┌┌┬┐┌─┐
% ║  │ │││││││├─┤│││ ││└─┐
% ╚═╝└─┘┴ ┴┴ ┴┴ ┴┘└┘─┴┘└─┘   

\newcommand{\jx}[1]{{\color{jarg}{\(#1\)}}}

\def\schk{\resizebox{\widthof{\checkmark}*\ratio{\widthof{x}}{\widthof{\normalsize x}}}{!}{\checkmark}}

\newcommand{\cmark}{\ding{51}}
\newcommand{\xmark}{\ding{56}\,}

\newcommand{\tbm}[1]{\(\bm{#1}\)}

\newcommand*{\ih}{\mbox{\fontsize{17.28}{21.6}\selectfont\(\hat{\imath}\)}}
\newcommand*{\jh}{\mbox{\fontsize{17.28}{21.6}\selectfont\(\hat{\jmath}\)}}
\newcommand*{\kh}{\hat{k}}

\newcommand{\rank}[1]{\operatorname{rank}(#1)}
\renewcommand{\det}[1]{\operatorname{det}(#1)}
\newcommand{\proj}[2]{\operatorname{proj}_{#1}\bm{#2}}

\def\eigv{\str{\bm{v}}}
\def\eigl{\chap{\lambda}}
\def\eigL{\chap{\Lambda}}

% ╔═╗┌─┐┌┬┐┬┌─┐┌┐┌┌─┐
% ║ ║├─┘ │ ││ ││││└─┐
% ╚═╝┴   ┴ ┴└─┘┘└┘└─┘

\DeclareOption{pascal}{
    % Pascal Triangle Generator
\makeatletter
\newcommand\binomialCoefficient[2]{%
    % Store values 
    \c@pgf@counta=#1% n
    \c@pgf@countb=#2% k
    %
    % Take advantage of symmetry if k > n - k
    \c@pgf@countc=\c@pgf@counta%
    \advance\c@pgf@countc by-\c@pgf@countb%
    \ifnum\c@pgf@countb>\c@pgf@countc%
        \c@pgf@countb=\c@pgf@countc%
    \fi%
    %
    % Recursively compute the coefficients
    \c@pgf@countc=1% will hold the result
    \c@pgf@countd=0% counter
    \pgfmathloop% c -> c*(n-i)/(i+1) for i=0,...,k-1
        \ifnum\c@pgf@countd<\c@pgf@countb%
        \multiply\c@pgf@countc by\c@pgf@counta%
        \advance\c@pgf@counta by-1%
        \advance\c@pgf@countd by1%
        \divide\c@pgf@countc by\c@pgf@countd%
    \repeatpgfmathloop%
    \the\c@pgf@countc%
}
\makeatother

    % Actual use: 

    % \begin{tikzpicture}
    %     \foreach \n in {0,...,15} {
    %     \foreach \k in {0,...,\n} {
    %         \node at (\k-\n/2,-\n) {$\binomialCoefficient{\n}{\k}$};
    %     }
    %     }
    % \end{tikzpicture}
}

\ProcessOptions\relax